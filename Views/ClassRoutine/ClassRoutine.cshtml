@model ClassRoutinePageViewModel

<div class="     container-fluid p-2">
	<div class="row">
		<!-- Left: Manage Form -->
		<div class="col-md-4">
			<div class="card shadow-sm">
				<div class="card-header bg-success text-white">
					<h5 class="mb-0">Manage Class Routine</h5>
				</div>
				<div class="card-body">
					<form method="post" asp-action="Save">
						<input type="hidden" asp-for="Routine.RoutineId" />

						<div class="mb-3">
							<label class="form-label">Day</label>
							<input asp-for="Routine.DayOfWeek" class="form-control" />
						</div>

						<div class="mb-3">
							<label class="form-label">Class</label>
							<input asp-for="Routine.Class" class="form-control" />
						</div>

						<div class="mb-3">
							<label class="form-label">Subject Name</label>
							<input asp-for="Routine.SubjectName" class="form-control" />
						</div>

						<div class="mb-3">
							<label class="form-label">Subject Type</label>
							<input asp-for="Routine.SubjectType" class="form-control" />
						</div>

						<div class="mb-3">
							<label class="form-label">Subject Code</label>
							<input asp-for="Routine.SubjectCode" class="form-control" />
						</div>

						<div class="mb-3">
							<label class="form-label">Section</label>
							<input asp-for="Routine.Section" class="form-control" />
						</div>

						<div class="mb-3">
							<label class="form-label">Teacher</label>
							<input asp-for="Routine.Teacher" class="form-control" />
						</div>

						<div class="mb-3">
							<label class="form-label">Start Time</label>
							<input asp-for="Routine.StartTime" type="time" class="form-control" />
						</div>

						<div class="mb-3">
							<label class="form-label">End Time</label>
							<input asp-for="Routine.EndTime" type="time" class="form-control" />
						</div>

						<div class="mb-3">
							<label class="form-label">Date</label>
							<input asp-for="Routine.Date" type="date" class="form-control"  />
							<span asp-validation-for="Routine.Date" class="text-danger"></span>
						</div>

						<div class="d-flex justify-content-center mt-3">
							<button type="submit" class="btn btn-warning w-50">Submit</button>
						</div>
					</form>
				</div>
			</div>
		</div>

		<!-- Right: Routine Table -->
		<div class="col-md-8">
			<div class="card shadow-sm">
				<div class="card-header bg-warning text-dark">
					<h5 class="mb-0">Class Routine List</h5>
				</div>
				<form method="get" asp-action="ClassRoutine">
				<div class="d-flex justify-content-end mt-3">
						
					<input type="text" name="classSearch" class="form-control w-25 me-2" placeholder="Type Class..." value="@Context.Request.Query["classSearch"]" />
					<button type="submit" class="btn btn-primary me-2">Search</button>
						<a asp-action="ClassRoutine" class="btn btn-secondary w-20 me-2">📚 All</a>
				</div>
				</form>
				<div class="card-body ">
					<div class="table-responsive">
						<table class="table table-bordered table-striped table-hover">
							<thead class="table-light">
								<tr>
									<th>ID</th>
									<th>Day</th>
									<th>Class</th>
									<th>Subject</th>
									<th>Type</th>
									<th>Code</th>
									<th>Section</th>
									<th>Teacher</th>
									<th>Time</th>
									<th>Date</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
								@foreach (var item in Model.RoutineList)
								{
									<tr>
										<td>@item.RoutineId</td>
										<td>@item.DayOfWeek</td>
										<td>@item.Class</td>
										<td>@item.SubjectName</td>
										<td>@item.SubjectType</td>
										<td>@item.SubjectCode</td>
										<td>@item.Section</td>
										<td>@item.Teacher</td>
										<td>@item.StartTime.ToString(@"hh\:mm") - @item.EndTime.ToString(@"hh\:mm")</td>
										<td>@item.Date</td>
										<td>
											<a asp-action="Save" asp-route-id="@item.RoutineId" class="btn btn-sm btn-info me-1">Edit</a>
											<a asp-action="Delete" asp-route-id="@item.RoutineId" class="btn btn-sm btn-danger" onclick="return confirm('Delete this?')">Delete</a>
										</td>
									</tr>
								}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
